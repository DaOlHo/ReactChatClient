{"map":"{\"version\":3,\"sources\":[\"C:\\\\Users\\\\dhodu\\\\Documents\\\\Nodejs Projects\\\\Chat\\\\src\\\\api.js\",\"C:\\\\Users\\\\dhodu\\\\Documents\\\\Nodejs Projects\\\\Chat\\\\src\\\\index.js\"],\"names\":[\"socket\",\"openSocket\",\"linkify\",\"text\",\"replace\",\"url\",\"removeHTML\",\"parseCommands\",\"ChatBar\",\"this\",\"chatEvent\",\"_this\",\"chatBox\",\"document\",\"getElementById\",\"usrBox\",\"addEventListener\",\"event\",\"keyCode\",\"preventDefault\",\"click\",\"value\",\"props\",\"lastMsg\",\"msg\",\"usr\",\"_this2\",\"react_default\",\"a\",\"createElement\",\"type\",\"id\",\"autoComplete\",\"autoFocus\",\"onClick\",\"length\",\"className\",\"React\",\"Component\",\"ChatMsg\",\"ReactHtmlParser\",\"Chat\",\"_this3\",\"cb\",\"Object\",\"classCallCheck\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"state\",\"history\",\"err\",\"res\",\"setState\",\"on\",\"msgs\",\"emit\",\"window\",\"scroll\",\"body\",\"scrollHeight\",\"usrName\",\"_this4\",\"src_ChatBar\",\"handleClick\",\"map\",\"item\",\"index\",\"src_ChatMsg\",\"key\",\"ReactDOM\",\"render\",\"src_Chat\"],\"mappings\":\"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\",\"sourcesContent\":[\"import openSocket from 'socket.io-client'\\r\\nconst socket = openSocket('192.168.1.88:8000')\\r\\n\\r\\nfunction subscribeToMsgs(cb) {\\r\\n    socket.on('msgs', msgs => cb(null, msgs))\\r\\n    socket.emit('subscribeToMsgs')\\r\\n}\\r\\n\\r\\nfunction sendMsg(msg) {\\r\\n    socket.emit('sendMsg', msg)\\r\\n}\\r\\n\\r\\nexport { subscribeToMsgs, sendMsg }\",\"import React from 'react'\\r\\nimport ReactDOM from 'react-dom'\\r\\nimport { subscribeToMsgs, sendMsg } from './api'\\r\\nimport ReactHtmlParser from 'react-html-parser'\\r\\nimport './index.css'\\r\\n\\r\\nfunction linkify(text) {\\r\\n    // eslint-disable-next-line\\r\\n    let urlRegex = /(\\\\b(https?|ftp|file):\\\\/\\\\/[-A-Z0-9+&@#\\\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\\\/%=~_|])/ig\\r\\n    return text.replace(urlRegex, function (url) {\\r\\n        return '<a href=\\\"' + url + '\\\">' + url + '</a>'\\r\\n    })\\r\\n}\\r\\n\\r\\nfunction removeHTML(text) {\\r\\n    let htmlRegex = /<\\\\/?([\\\\s\\\\S]*?)>/g\\r\\n    return text.replace(htmlRegex, '')\\r\\n}\\r\\n\\r\\nfunction parseCommands(text) {\\r\\n    let endReg = /\\\\[\\\\/\\\\]/g\\r\\n    let begReg = /\\\\[/g\\r\\n    let lastReg = /\\\\]/g\\r\\n    return text.replace(endReg, '</span>').replace(begReg, `<span style=\\\"`).replace(lastReg, `\\\">`)\\r\\n}\\r\\n\\r\\nclass ChatBar extends React.Component {\\r\\n\\r\\n    componentDidMount() {\\r\\n        this.chatEvent()\\r\\n    }\\r\\n\\r\\n    chatEvent() {\\r\\n        let chatBox = document.getElementById(\\\"chatBox\\\")\\r\\n        let usrBox = document.getElementById(\\\"usrBox\\\")\\r\\n        chatBox.addEventListener(\\\"keypress\\\", (event) => {\\r\\n            if (event.keyCode === 13) {\\r\\n                event.preventDefault()\\r\\n                document.getElementById(\\\"chatSend\\\").click()\\r\\n            }\\r\\n        })\\r\\n        chatBox.addEventListener(\\\"keydown\\\", (event) => {\\r\\n            if (event.keyCode === 38) {\\r\\n                chatBox.value = this.props.lastMsg.msg\\r\\n            }\\r\\n        })\\r\\n        usrBox.addEventListener(\\\"keypress\\\", (event) => {\\r\\n            if (event.keyCode === 13) {\\r\\n                event.preventDefault()\\r\\n            }\\r\\n        })\\r\\n        usrBox.addEventListener(\\\"keydown\\\", (event) => {\\r\\n            if (event.keyCode === 38) {\\r\\n                usrBox.value = this.props.lastMsg.usr\\r\\n            }\\r\\n        })\\r\\n    }\\r\\n\\r\\n    render() {\\r\\n        return (\\r\\n            <form>\\r\\n                <input type=\\\"text\\\" id=\\\"usrBox\\\" autoComplete=\\\"off\\\"></input>\\r\\n                <input type=\\\"text\\\" id=\\\"chatBox\\\" autoFocus=\\\"autofocus\\\" autoComplete=\\\"off\\\"></input>\\r\\n                <button type=\\\"button\\\" id=\\\"chatSend\\\" onClick={\\r\\n                    () => {\\r\\n                        let chatBox = document.getElementById(\\\"chatBox\\\")\\r\\n                        let usrBox = document.getElementById(\\\"usrBox\\\")\\r\\n                        let usr\\r\\n                        if (!usrBox.value | usrBox.value.length >= 200) usr = \\\"Anonymous\\\"\\r\\n                        else usr = usrBox.value\\r\\n                        if (chatBox.value !== \\\"\\\" && chatBox.value.length <= 500) this.props.onClick(chatBox.value, usr)\\r\\n                        chatBox.value = \\\"\\\"\\r\\n                    }\\r\\n                }\\r\\n                >Send</button>\\r\\n                <hr className=\\\"box\\\"></hr>\\r\\n            </form>\\r\\n        )\\r\\n    }\\r\\n}\\r\\n\\r\\nclass ChatMsg extends React.Component {\\r\\n\\r\\n    render() {\\r\\n        return (\\r\\n            <div>\\r\\n                <h3>\\r\\n                    {ReactHtmlParser(linkify(parseCommands(removeHTML(this.props.usr))))}\\r\\n                </h3>\\r\\n                <p>\\r\\n                    {ReactHtmlParser(linkify(parseCommands(removeHTML(this.props.msg))))}\\r\\n                </p>\\r\\n            </div>\\r\\n        )\\r\\n    }\\r\\n}\\r\\n\\r\\nclass Chat extends React.Component {\\r\\n\\r\\n    constructor(props) {\\r\\n        super(props)\\r\\n        this.state = {\\r\\n            history: []\\r\\n        }\\r\\n        subscribeToMsgs((err, res) => this.setState({ history: res }))\\r\\n    }\\r\\n\\r\\n    componentDidMount() {\\r\\n        window.scroll(0, document.body.scrollHeight)\\r\\n    }\\r\\n\\r\\n    lastMsg() {\\r\\n        return this.state.history[this.state.history.length - 1]\\r\\n    }\\r\\n\\r\\n    handleClick(value, usrName) {\\r\\n        sendMsg({ usr: usrName, msg: value })\\r\\n        window.scroll(0, document.body.scrollHeight)\\r\\n    }\\r\\n\\r\\n    render() {\\r\\n        return (\\r\\n            <div>\\r\\n                <ChatBar onClick={(value, usrName) => {\\r\\n                    this.handleClick(value, usrName)\\r\\n                }\\r\\n                }\\r\\n                    lastMsg={this.lastMsg()} />\\r\\n                <div className=\\\"msg\\\">\\r\\n                    {\\r\\n                        this.state.history.map((item, index) => (\\r\\n                            <ChatMsg key={index} msg={item.msg} usr={item.usr} />\\r\\n                        ))\\r\\n                    }\\r\\n                </div>\\r\\n            </div >\\r\\n        )\\r\\n    }\\r\\n\\r\\n}\\r\\n\\r\\n// ========================================\\r\\n\\r\\nReactDOM.render(\\r\\n    <Chat />,\\r\\n    document.getElementById(\\\"root\\\")\\r\\n)\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t){},118:function(e,t,n){},119:function(e,t,n){\"use strict\";n.r(t);var a=n(10),o=n(11),r=n(13),u=n(12),c=n(14),s=n(0),l=n.n(s),i=n(50),d=n.n(i),m=n(51),p=n.n(m)()(\"192.168.1.88:8000\");var f=n(24),h=n.n(f);n(118);function v(e){return e.replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gi,function(e){return'<a href=\"'+e+'\">'+e+\"</a>\"})}function y(e){return e.replace(/<\\/?([\\s\\S]*?)>/g,\"\")}function g(e){return e.replace(/\\[\\/\\]/g,\"</span>\").replace(/\\[/g,'<span style=\"').replace(/\\]/g,'\">')}var b=function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:\"componentDidMount\",value:function(){this.chatEvent()}},{key:\"chatEvent\",value:function(){var e=this,t=document.getElementById(\"chatBox\"),n=document.getElementById(\"usrBox\");t.addEventListener(\"keypress\",function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById(\"chatSend\").click())}),t.addEventListener(\"keydown\",function(n){38===n.keyCode&&(t.value=e.props.lastMsg.msg)}),n.addEventListener(\"keypress\",function(e){13===e.keyCode&&e.preventDefault()}),n.addEventListener(\"keydown\",function(t){38===t.keyCode&&(n.value=e.props.lastMsg.usr)})}},{key:\"render\",value:function(){var e=this;return l.a.createElement(\"form\",null,l.a.createElement(\"input\",{type:\"text\",id:\"usrBox\",autoComplete:\"off\"}),l.a.createElement(\"input\",{type:\"text\",id:\"chatBox\",autoFocus:\"autofocus\",autoComplete:\"off\"}),l.a.createElement(\"button\",{type:\"button\",id:\"chatSend\",onClick:function(){var t,n=document.getElementById(\"chatBox\"),a=document.getElementById(\"usrBox\");t=!a.value|a.value.length>=200?\"Anonymous\":a.value,\"\"!==n.value&&n.value.length<=500&&e.props.onClick(n.value,t),n.value=\"\"}},\"Send\"),l.a.createElement(\"hr\",{className:\"box\"}))}}]),t}(l.a.Component),k=function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:\"render\",value:function(){return l.a.createElement(\"div\",null,l.a.createElement(\"h3\",null,h()(v(g(y(this.props.usr))))),l.a.createElement(\"p\",null,h()(v(g(y(this.props.msg))))))}}]),t}(l.a.Component),E=function(e){function t(e){var n,o;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={history:[]},o=function(e,t){return n.setState({history:t})},p.on(\"msgs\",function(e){return o(null,e)}),p.emit(\"subscribeToMsgs\"),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:\"componentDidMount\",value:function(){window.scroll(0,document.body.scrollHeight)}},{key:\"lastMsg\",value:function(){return this.state.history[this.state.history.length-1]}},{key:\"handleClick\",value:function(e,t){var n;n={usr:t,msg:e},p.emit(\"sendMsg\",n),window.scroll(0,document.body.scrollHeight)}},{key:\"render\",value:function(){var e=this;return l.a.createElement(\"div\",null,l.a.createElement(b,{onClick:function(t,n){e.handleClick(t,n)},lastMsg:this.lastMsg()}),l.a.createElement(\"div\",{className:\"msg\"},this.state.history.map(function(e,t){return l.a.createElement(k,{key:t,msg:e.msg,usr:e.usr})})))}}]),t}(l.a.Component);d.a.render(l.a.createElement(E,null),document.getElementById(\"root\"))},52:function(e,t,n){e.exports=n(119)},83:function(e,t){}},[[52,1,2]]]);","extractedComments":[]}